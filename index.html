<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nightcord</title>
  <link rel="stylesheet" href="/styles.css">
</head>

<body>
  <!-- Name Chooser Overlay -->
  <div id="name-chooser" class="name-chooser hidden">
    <div class="name-chooser-content">
      <div class="logo-area">
        <svg width="60" height="60" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M13,10.69v2.72H10.23V10.69Zm3,0v2.69h2.69V10.72ZM23.29,12A11.31,11.31,0,1,1,12,.67,11.31,11.31,0,0,1,23.29,12Zm-.18.07a8.87,8.87,0,1,0-8.87,8.86A8.87,8.87,0,0,0,23.11,12.05Z" fill="#ffffff" fill-opacity="0.9"></path>
        </svg>
      </div>
      <h2 id="chooser-title">Nightcord</h2>
      <p id="chooser-subtitle" class="subtitle">è¯·è¾“å…¥ä½ çš„æ˜µç§°ä»¥åŠ å…¥</p>
      
      <div class="input-wrapper">
        <input type="text" id="name-input" class="name-input" placeholder="æ˜µç§°" maxlength="32" autocomplete="off">
        <div class="input-focus-border"></div>
        <div id="name-error" class="input-error"></div>
      </div>
      
      <button id="name-submit" class="name-submit">
        <span id="chooser-submit-text">è¿›å…¥ Nightcord</span>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </button>

      <div class="auth-divider">
        <span>or</span>
      </div>

      <button id="sekai-pass-login" class="sekai-pass-login">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm0 16H5V5h14v14zm-7-2h-3v-1h3v1zm5 0h-1v-1h1v1zm0-2h-1v-1h1v1zm0-2h-1v-1h1v1zm0-2h-1v-1h1v1zM8 12c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zm0 1.5c-2.33 0-4.31 1.46-5.11 3.5h10.22c-.8-2.04-2.78-3.5-5.11-3.5z"/>
        </svg>
        <span>ä½¿ç”¨ SEKAI Pass ç™»å½•</span>
      </button>

      <button id="chooser-close" class="chooser-close hidden" title="å…³é—­">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
    </div>
  </div>
  <div class="chat-root">
    <!-- Sidebar -->
    <div class="sidebar">
      <div class="server-header">
        <span>Nightcord</span>
        <span style="font-size:16px;">&#9660;</span>
      </div>
      <div class="sidebar-content">
        <div class="channel">
          <div class="channel-icon"><svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M13,10.69v2.72H10.23V10.69Zm3,0v2.69h2.69V10.72ZM23.29,12A11.31,11.31,0,1,1,12,.67,11.31,11.31,0,0,1,23.29,12Zm-.18.07a8.87,8.87,0,1,0-8.87,8.86A8.87,8.87,0,0,0,23.11,12.05Z"
                fill="white"></path>
            </svg></div>
          <span>èŠå¤©</span>
        </div>
        <div class="section-label">&gt; èŠå¤©</div>
        <div id="voice-users"></div>
        <div class="section-label">&gt; ç¦»çº¿</div>
      </div>
    </div>
    <!-- Main Chat Area -->
    <div class="main">
      <div class="chat-header">
        <div class="channel-icon"><svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M13,10.69v2.72H10.23V10.69Zm3,0v2.69h2.69V10.72ZM23.29,12A11.31,11.31,0,1,1,12,.67,11.31,11.31,0,0,1,23.29,12Zm-.18.07a8.87,8.87,0,1,0-8.87,8.86A8.87,8.87,0,0,0,23.11,12.05Z"
              fill="white"></path>
          </svg></div>
        <span style="font-weight:600;">èŠå¤©</span>
        <div class="window-buttons">
          <span class="window-btn blue"></span>
          <span class="window-btn yellow"></span>
          <span class="window-btn red"></span>
        </div>
      </div>
      <div class="messages" id="messages"></div>
      <div class="input-area">
        <div class="input-box">
          <div id="mention-list" class="mention-list hidden"></div>
          <input type="text" class="input" id="messageInput" placeholder="å‘é€æ¶ˆæ¯">
          <div class="input-btns">
            <button class="input-btn" title="@"><span>@</span></button>
            <button class="input-btn" title="æ–‡æœ¬"><span style="font-weight:bold;">Aa</span></button>
            <button class="input-btn" title="è¡¨æƒ…"><span>ğŸ˜Š</span></button>
            <button class="input-btn" title="é™„ä»¶"><span>ğŸ“</span></button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- <script>
const users = [
  { name: "K", status: "online", avatar: "K", color: "bg-pink-500" },
  { name: "é›ª", status: "online", avatar: "é›ª", color: "bg-purple-400" },
  { name: "ãˆãªãªã‚“", status: "online", avatar: "ãˆ", color: "bg-teal-400" },
  { name: "Amia", status: "online", avatar: "A", color: "bg-pink-400" },
];
const messages = [
  { user: "K", avatar: "K", color: "bg-purple-600", time: "æ˜¨æ—¥ 15:51", text: "ã‚‚ã†å°‘ã—ã§ã‚¢ãƒƒãƒ—ã§ããã†" },
  { user: "Amia", avatar: "A", color: "bg-pink-400", time: "æ˜¨æ—¥ 15:54", text: "ãŠã€œã€æ¥½ã—ã¿â™ª" },
  { user: "Amia", avatar: "A", color: "bg-pink-400", time: "æ˜¨æ—¥ 16:13", text: "ã‚ã‚ŠãŒã¨ï¼" },
  { user: "é›ª", avatar: "é›ª", color: "bg-purple-400", time: "æ˜¨æ—¥ 16:15", text: "è´ã„ã¨ãã­" },
  { user: "ãˆãªãªã‚“", avatar: "ãˆ", color: "bg-teal-400", time: "æ˜¨æ—¥ 20:36", text: "ã˜ã‚ƒã€ä¸€æ—¦è½ã¡ã‚‹" },
  { user: "K", avatar: "K", color: "bg-purple-600", time: "æ˜¨æ—¥ 20:38", text: "ã†ã‚“ã€ã¾ãŸ25æ™‚ã«" },
  { user: "ãˆãªãªã‚“", avatar: "ãˆ", color: "bg-teal-400", time: "æ˜¨æ—¥ 20:39", text: "ã¯ãƒ¼ã„" },
  { user: "Amia", avatar: "A", color: "bg-pink-400", time: "æ˜¨æ—¥ 23:45", text: "èª°ãŒã„ã‚‹ã€œï¼Ÿ" },
  { user: "K", avatar: "K", color: "bg-purple-600", time: "æ˜¨æ—¥ 23:46", text: "ã„ã‚‹ã‚ˆ" },
];
function renderVoiceUsers() {
  const container = document.getElementById('voice-users');
  container.innerHTML = '';
  users.forEach(user => {
    const div = document.createElement('div');
    div.className = 'voice-user';
    div.innerHTML = `
      <div class="voice-user-info">
        <span class="avatar ${user.color}">${user.avatar}</span>
        <span style="font-size:14px;">${user.name}</span>
      </div>
    `;
    container.appendChild(div);
  });
}
function renderMessages() {
  const container = document.getElementById('messages');
  container.innerHTML = '';
  messages.forEach(msg => {
    const msgDiv = document.createElement('div');
    msgDiv.className = 'message';
    msgDiv.innerHTML = `
      <span class="avatar ${msg.color}">${msg.avatar}</span>
      <div class="message-content">
        <div class="message-header">
          <span class="message-user">${msg.user}</span>
          <span class="message-time">${msg.time}</span>
        </div>
        ${msg.text ? `<p class="message-text">${msg.text}</p>` : ''}
        ${msg.file ? `
          <div class="message-file">
            <span class="file-icon">ğŸµ</span>
            <div class="file-info">
              <div class="file-name">${msg.file.name}</div>
              <div class="file-size">${msg.file.size}</div>
            </div>
            <button class="file-download" title="ä¸‹è½½">â¬‡ï¸</button>
          </div>
        ` : ''}
      </div>
    `;
    container.appendChild(msgDiv);
  });
  container.scrollTop = container.scrollHeight;
}
document.addEventListener('DOMContentLoaded', () => {
  renderVoiceUsers();
  renderMessages();
  const input = document.getElementById('messageInput');
  input.addEventListener('keydown', function(e) {
    if (e.key === 'Enter' && this.value.trim()) {
      messages.push({
        user: 'K',
        avatar: 'K',
        color: 'bg-purple-600',
        time: 'ä»Š',
        text: this.value.trim()
      });
      this.value = '';
      renderMessages();
    }
  });
});
</script> -->
  <script src="/sekai-pass-auth.js"></script>
  <script src="/sekai-analytics.js"></script>
  <script src="/event-bus.js"></script>
  <script src="/ai-config.js"></script>
  <script src="/websocket-mgr.js"></script>
  <script src="/nightcord-mgr.js"></script>
  <script src="/storage-manager.js"></script>
  <script src="/nako-ai-service.js"></script>
  <script src="/ui-sticker-service.js"></script>
  <script src="/ui-autocomplete.js"></script>
  <script src="/ui-manager.js"></script>
  <script src="/nightcord.js"></script>
  <script>
    let nightcord = new Nightcord();
    const params = new URLSearchParams(location.search);
    if (params.has('test')) {
      nightcord.init('nightcord-test');
    } else {
      nightcord.init();
    }
  </script>
  <script src="/pangu.js"></script>
</body>

</html>